(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[8],{680:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(683);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,c=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(i){c=!0,o=i}finally{try{n||null==a.return||a.return()}finally{if(c)throw o}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},720:function(e,t,r){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-token":e.token}:{}}var c=r(414),o="https://ipe-attendance.herokuapp.com/api/admin/",s={getAllUsers:function(){return c.get(o+"get-user",{headers:n()})},approveUser:function(e){return c.get(o+"approve-user/"+e,{headers:n()})},deleteUser:function(e){return c.delete(o+"delete-user/"+e,{headers:n()})}};t.a=s},884:function(e,t,r){"use strict";r.r(t);var n=r(680),c=r(1),o=r(679),s=r(720),a=r(14),i=["username","email","action"];t.default=function(){var e=Object(c.useState)(null),t=Object(n.a)(e,2),r=t[0],u=t[1],l=Object(c.useState)(!1),j=Object(n.a)(l,2),d=j[0],b=j[1],p=Object(c.useState)(""),f=Object(n.a)(p,2),h=f[0],O=f[1],x=Object(c.useState)(""),m=Object(n.a)(x,2),g=m[0],v=m[1],S=Object(c.useState)(""),y=Object(n.a)(S,2),k=y[0],A=y[1],w=Object(c.useState)(""),C=Object(n.a)(w,2),U=C[0],N=C[1],R=Object(c.useState)(null),z=Object(n.a)(R,2),F=z[0],I=z[1],J=Object(c.useState)(null),P=Object(n.a)(J,2),T=P[0],E=P[1],B=Object(c.useState)(!0),K=Object(n.a)(B,2),L=K[0],M=K[1],W=function(){M(!1),s.a.getAllUsers().then((function(e){var t=e.data.data.users.rows.filter((function(e){return!1===e.isApproved}));u(t)}))},Y=function(e,t){b(!d),O(e),N(t),"danger"===e?(v("Reject this user?"),A("Reject")):(v("Approve this user?"),A("Approve"))};return Object(c.useEffect)((function(){W()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(o.P,{children:Object(a.jsxs)(o.k,{children:[L&&Object(a.jsx)(o.Y,{color:"info"}),Object(a.jsxs)(o.f,{children:[Object(a.jsx)(o.j,{style:{backgroundColor:"#6C63FF",color:"white",fontWeight:"600",borderRadius:"10px 10px 0 0",marginTop:"-10px"},children:"Approve Users"}),Object(a.jsxs)(o.g,{children:[F&&Object(a.jsx)(o.a,{color:F,closeButton:!0,children:T}),Object(a.jsx)(o.n,{items:r,fields:i,bordered:!0,itemsPerPage:5,pagination:!0,scopedSlots:{action:function(e){return Object(a.jsxs)("td",{children:[Object(a.jsx)(o.e,{shape:"pill",color:"success",size:"sm",className:"mx-1 px-3",onClick:function(){return Y("success",e.verifiedToken)},children:"Approve"}),Object(a.jsx)(o.e,{shape:"pill",color:"danger",size:"sm",className:"mx-1 px-3",onClick:function(){return Y("danger")},children:"Reject"})]})}}})]})]})]})}),Object(a.jsxs)(o.K,{size:"sm",show:d,onClose:function(){return b(!d)},color:h,children:[Object(a.jsx)(o.L,{className:"text-".concat(h," text-center"),children:Object(a.jsx)("h4",{children:g})}),Object(a.jsxs)(o.M,{children:[Object(a.jsx)(o.e,{color:h,onClick:function(){b(!d),"danger"===h?console.log("hapus"):s.a.approveUser(U).then((function(e){console.log(e),W(),I("success"),E("Approve successfull")})).catch((function(e){return console.log(e)}))},children:k})," ",Object(a.jsx)(o.e,{color:"secondary",onClick:function(){return b(!d)},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=8.3b2a985c.chunk.js.map