(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[14],{870:function(e,t,s){"use strict";s.r(t);var c=s(32),a=s(680),r=s(1),i=s(688),l=s(705),n=s(704),o=s(22),d=s(123),j=s(679),b=s(178),m=s(14);t.default=function(){var e=new URLSearchParams(Object(o.h)().search).get("token"),t=Object(r.useState)(!1),s=Object(a.a)(t,2),h=s[0],O=s[1],u=Object(r.useState)(""),p=Object(a.a)(u,2),x=p[0],f=p[1],g=Object(r.useState)(!1),w=Object(a.a)(g,2),y=w[0],v=w[1],N=Object(o.g)(),k=n.a().shape({email:n.c().required("Email is required").email("Email is invalid"),password:n.c().required("Password is required")}),F=Object(i.d)({resolver:Object(l.a)(k)}),C=F.register,S=F.handleSubmit,P=F.formState.errors,q=function(e,t){var s=e.email,c=e.password;b.a.login(s,c).then((function(){v(!1),N.push("/"),window.location.reload()})).catch((function(e){t.target[1].value="",O(!0),f(e.response.data.errorMessage),v(!1)}))};return Object(m.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",style:{backgroundColor:"white"},children:Object(m.jsx)(j.l,{children:Object(m.jsxs)(j.P,{className:"justify-content-center",children:[Object(m.jsx)(j.k,{md:"6",children:Object(m.jsx)(j.C,{src:"img/splash.png",style:{width:"100%",height:"auto"}})}),Object(m.jsx)(j.k,{md:"4",children:Object(m.jsx)(j.i,{children:Object(m.jsx)(j.f,{className:"p-4",children:Object(m.jsx)(j.g,{children:Object(m.jsxs)("form",{onSubmit:S((function(t,s){v(!0),e?b.a.verifyUser(e).then((function(){q(t,s)})).catch((function(e){O(!0),f(e.response.data.errorMessage),v(!1)})):q(t,s)})),children:[Object(m.jsx)("h1",{className:"text-center",style:{fontWeight:"bold"},children:"Worker's Attendance"}),h?Object(m.jsx)(j.a,{color:"danger",onClick:function(){O(!1)},closeButton:!0,children:x}):Object(m.jsx)(m.Fragment,{}),Object(m.jsxs)(j.v,{className:"my-4",children:[Object(m.jsx)(j.I,{htmlFor:"email",style:{opacity:"50%"},children:"Email"}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({name:"email",type:"text"},C("email")),{},{className:"form-control ".concat(P.email?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:P.email?P.email.message:""})]}),Object(m.jsxs)(j.v,{className:"my-4",children:[Object(m.jsx)(j.I,{htmlFor:"password",style:{opacity:"50%"},children:"Password"}),Object(m.jsx)("input",Object(c.a)(Object(c.a)({name:"password",type:"password"},C("password")),{},{className:"form-control ".concat(P.password?"is-invalid":"")})),Object(m.jsx)("div",{className:"invalid-feedback",children:P.password?P.password.message:""}),Object(m.jsx)("div",{className:"text-right mt-1",children:Object(m.jsx)(d.b,{to:"/forgot",style:{color:"#6C63FF"},children:"Forgot password?"})})]}),Object(m.jsx)(j.P,{children:Object(m.jsxs)(j.k,{children:[Object(m.jsxs)(j.e,{className:"py-2",shape:"pill",style:{backgroundColor:"#6C63FF",border:"#6C63FF",color:"white",width:"100%"},type:"submit",disabled:y,children:[y&&Object(m.jsx)(j.Y,{color:"white",size:"sm",className:"mr-1"}),Object(m.jsx)("span",{children:"Login"})]}),Object(m.jsxs)(j.w,{className:"mb-2 mt-2",children:["Need an account?\xa0",Object(m.jsx)(d.b,{to:"/register",style:{color:"#6C63FF"},children:"Register"})]})]})})]})})})})})]})})})}}}]);
//# sourceMappingURL=14.116dd3ed.chunk.js.map