(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[7],{680:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(683);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,c=!1,s=void 0;try{for(var i,a=e[Symbol.iterator]();!(r=(i=a.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(o){c=!0,s=o}finally{try{r||null==a.return||a.return()}finally{if(c)throw s}}return n}}(e,t)||Object(r.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},695:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s}));var r=[{id:0,checkIn:"08:20",date:"2018/01/01",checkOut:"17:00",workingHour:"7 Hours"},{id:1,checkIn:"08:00",date:"2018/01/01",checkOut:"17:50",workingHour:"8 Hours"},{id:2,checkIn:"08:03",date:"2018/02/01",checkOut:"17:50",workingHour:"9 Hours"},{id:3,checkIn:"08:15",date:"2018/02/01",checkOut:"16:00",workingHour:"7 Hours"}],c=[{id:0,date:"2018/02/01",name:"user1",type:"Check-In",time:"08:00"},{id:1,date:"2018/02/01",name:"user2",type:"Check-In",time:"08:00"},{id:2,date:"2018/02/01",name:"user3",type:"Check-In",time:"08:00"},{id:4,date:"2018/02/01",name:"user1",type:"Check-Out",time:"17:10"},{id:5,date:"2018/02/01",name:"user2",type:"Check-Out",time:"17:12"},{id:6,date:"2018/02/01",name:"user3",type:"Check-Out",time:"17:01"}],s=[{id:0,name:"user1",email:"admin@gmail.com"},{id:1,name:"user2",email:"test@gmail.com"},{id:2,name:"user3",email:"user1@gmail.com"},{id:3,name:"user4",email:"user2@gmail.com"},{id:4,name:"user5",email:"admin@gmail.com"},{id:5,name:"user1",email:"test@gmail.com"}]},720:function(e,t,n){"use strict";function r(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-token":e.token}:{}}var c=n(414),s="http://localhost:8000/api/admin/",i={getAllUsers:function(){return c.get(s+"get-user",{headers:r()})},approveUser:function(e){return c.get(s+"approve-user/"+e,{headers:r()})},deleteUser:function(e){return c.delete(s+"delete-user/"+e,{headers:r()})}};t.a=i},883:function(e,t,n){"use strict";n.r(t);var r=n(680),c=n(1),s=n(679),i=n(695),a=n(720),o=n(14),l=["username","action"],u=["name","absent","action"];t.default=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=t[0],d=t[1],j=Object(c.useState)(null),m=Object(r.a)(j,2),h=m[0],b=m[1],O=Object(c.useState)({}),f=Object(r.a)(O,2),x=f[0],p=f[1],g=Object(c.useState)(!1),k=Object(r.a)(g,2),y=k[0],v=k[1],C=Object(c.useState)(!1),w=Object(r.a)(C,2),S=w[0],I=w[1],H=Object(c.useState)(""),N=Object(r.a)(H,2),U=N[0],z=N[1],A=Object(c.useState)(""),R=Object(r.a)(A,2),F=R[0],P=R[1],D=Object(c.useState)(""),J=Object(r.a)(D,2),L=J[0],T=J[1],E=Object(c.useState)(null),K=Object(r.a)(E,2),M=K[0],W=K[1],B=Object(c.useState)(null),V=Object(r.a)(B,2),q=V[0],G=V[1],Q=function(e,t){I(!S),b(t.id),"danger"===e?(P("Delete this user?"),z("danger"),T("Reset")):(P("Reset user location?"),z("warning"),T("Reset"))},X=function(){a.a.getAllUsers().then((function(e){var t=e.data.data.users.rows.filter((function(e){return!0===e.isApproved&&!0===e.isVerified}));d(t)}))};return Object(c.useEffect)((function(){X()}),[]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(s.P,{children:[Object(o.jsx)(s.k,{xl:6,children:Object(o.jsxs)(s.f,{children:[Object(o.jsx)(s.j,{style:{backgroundColor:"#6C63FF",color:"white",fontWeight:"600",borderRadius:"10px 10px 0 0",marginTop:"-10px"},children:"Users"}),Object(o.jsxs)(s.g,{children:[M&&Object(o.jsx)(s.a,{color:M,closeButton:!0,children:q}),Object(o.jsx)(s.n,{items:n,fields:l,bordered:!0,itemsPerPage:5,pagination:!0,scopedSlots:{action:function(e){return Object(o.jsxs)("td",{children:[Object(o.jsx)(s.e,{shape:"pill",color:"info",size:"sm",className:"mx-1 px-3",onClick:function(){return t=e,v(!y),void p(t);var t},children:"Detail"}),Object(o.jsx)(s.e,{shape:"pill",color:"warning",size:"sm",className:"mx-1 px-3",onClick:function(){return Q("warning",e)},children:"Reset Location"}),Object(o.jsx)(s.e,{shape:"pill",color:"danger",size:"sm",className:"mx-1 px-3",onClick:function(){return Q("danger",e)},children:"Delete"})]})}}})]})]})}),Object(o.jsx)(s.k,{xl:6,children:Object(o.jsxs)(s.f,{children:[Object(o.jsx)(s.j,{style:{backgroundColor:"#6C63FF",color:"white",fontWeight:"600",borderRadius:"10px 10px 0 0",marginTop:"-10px"},children:"Absent more than 2 days this month"}),Object(o.jsx)(s.g,{children:Object(o.jsx)(s.n,{items:i.a,fields:u,bordered:!0,itemsPerPage:5,pagination:!0,scopedSlots:{action:function(e){return Object(o.jsx)("td",{children:Object(o.jsx)(s.e,{shape:"pill",color:"info",size:"sm",className:"mx-1 px-3",children:"Detail"})})}}})})]})})]}),Object(o.jsxs)(s.K,{size:"sm",show:S,onClose:function(){return I(!S)},color:U,children:[Object(o.jsx)(s.L,{className:"text-".concat(U," text-center"),children:Object(o.jsx)("h4",{children:F})}),Object(o.jsxs)(s.M,{children:[Object(o.jsx)(s.e,{color:U,onClick:function(){return I(!S),void("danger"===U&&a.a.deleteUser(h).then((function(e){W("success"),G("User deleted successfully"),X()})).catch((function(e){W("success"),G("User failed to delete")})))},children:L})," ",Object(o.jsx)(s.e,{color:"secondary",onClick:function(){return I(!S)},children:"Cancel"})]})]}),Object(o.jsxs)(s.K,{size:"sm",show:y,onClose:function(){return v(!y)},children:[Object(o.jsxs)(s.L,{className:"text-center",children:[Object(o.jsx)(s.C,{style:{width:"200px"},className:"c-avatar-img",src:"avatars/"+x.avatar,alt:"user-avatar"}),Object(o.jsx)("h4",{children:x.username}),Object(o.jsx)("p",{children:x.email})]}),Object(o.jsx)(s.M,{children:Object(o.jsx)(s.e,{color:"secondary",onClick:function(){return v(!y)},children:"Close"})})]})]})}}}]);
//# sourceMappingURL=7.a040b5de.chunk.js.map