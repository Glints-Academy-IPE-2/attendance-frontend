(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[9],{680:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r(681);function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,c=!1,s=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(i){c=!0,s=i}finally{try{n||null==a.return||a.return()}finally{if(c)throw s}}return r}}(e,t)||Object(n.a)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},696:function(e,t,r){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.token?{"x-token":e.token}:{}}var c=r(414),s="https://ipe-attendance.herokuapp.com/api/admin/",o={getAllUsers:function(){return c.get(s+"get-user",{headers:n()})},approveUser:function(e){return c.get(s+"approve-user"+e,{headers:n()})},deleteUser:function(e){return c.delete(s+"delete-user"+e,{headers:n()})},getAllAttendance:function(){return c.get(s+"get-attendance",{headers:n()})}};t.a=o},884:function(e,t,r){"use strict";r.r(t);var n=r(680),c=r(1),s=r(679),o=r(696),a=r(14),i=["username","email","action"];t.default=function(){var e=Object(c.useState)(null),t=Object(n.a)(e,2),r=t[0],u=t[1],l=Object(c.useState)(!1),j=Object(n.a)(l,2),d=j[0],b=j[1],f=Object(c.useState)(""),h=Object(n.a)(f,2),p=h[0],O=h[1],x=Object(c.useState)(""),m=Object(n.a)(x,2),g=m[0],v=m[1],y=Object(c.useState)(""),S=Object(n.a)(y,2),A=S[0],k=S[1],w=Object(c.useState)(""),C=Object(n.a)(w,2),U=C[0],N=C[1],R=Object(c.useState)(""),z=Object(n.a)(R,2),F=z[0],I=z[1],J=Object(c.useState)(null),P=Object(n.a)(J,2),T=P[0],E=P[1],B=Object(c.useState)(null),D=Object(n.a)(B,2),K=D[0],L=D[1],M=Object(c.useState)(!0),W=Object(n.a)(M,2),Y=W[0],q=W[1],G=function(){q(!1),o.a.getAllUsers().then((function(e){var t=e.data.data.users.rows.filter((function(e){return!1===e.isApproved}));u(t)}))},H=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;b(!d),O(e),N(t),I(r),"danger"===e?(v("Reject this user?"),k("Reject")):(v("Approve this user?"),k("Approve"))};return Object(c.useEffect)((function(){G()}),[]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(s.P,{children:Object(a.jsxs)(s.k,{children:[Y&&Object(a.jsx)(s.Y,{color:"info"}),Object(a.jsxs)(s.f,{children:[Object(a.jsx)(s.j,{style:{backgroundColor:"#6C63FF",color:"white",fontWeight:"600",borderRadius:"10px 10px 0 0",marginTop:"-10px"},children:"Approve Users"}),Object(a.jsxs)(s.g,{children:[T&&Object(a.jsx)(s.a,{color:T,closeButton:!0,children:K}),Object(a.jsx)(s.n,{items:r,fields:i,bordered:!0,itemsPerPage:5,pagination:!0,scopedSlots:{action:function(e){return Object(a.jsxs)("td",{children:[Object(a.jsx)(s.e,{shape:"pill",color:"success",size:"sm",className:"mx-1 px-3",onClick:function(){return H("success",e.verifiedToken)},children:"Approve"}),Object(a.jsx)(s.e,{shape:"pill",color:"danger",size:"sm",className:"mx-1 px-3",onClick:function(){return H("danger",null,e.id)},children:"Reject"})]})}}})]})]})]})}),Object(a.jsxs)(s.K,{size:"sm",show:d,onClose:function(){return b(!d)},color:p,children:[Object(a.jsx)(s.L,{className:"text-".concat(p," text-center"),children:Object(a.jsx)("h4",{children:g})}),Object(a.jsxs)(s.M,{children:[Object(a.jsx)(s.e,{color:p,onClick:function(){b(!d),"danger"===p?o.a.deleteUser(F).then((function(e){G(),E("success"),L("Delete user successfully")})).catch((function(e){E("danger"),L("An error has occured")})):o.a.approveUser(U).then((function(e){G(),E("success"),L("Approve user successfully")})).catch((function(){E("danger"),L("An error has occured")}))},children:A})," ",Object(a.jsx)(s.e,{color:"secondary",onClick:function(){return b(!d)},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=9.a3e08edb.chunk.js.map